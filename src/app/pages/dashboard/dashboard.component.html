<div class="fia-page">
  <app-next-exams-card></app-next-exams-card>

  <mat-card class="fia-card fia-user-progress">
    <p class="fia-card-title">Fortschritt</p>
    <mat-card-content class="fia-view-wrapper">

      <div class="fia-progress-lesson">
        <p class="label">
          Lektion {{user?.progress.length !== undefined ? user?.progress.length : '...'}} von {{dashboard?.allLessons.length || '...'}}
        </p>
        <mat-progress-bar class="progress-bar" [value]="dashboard?.lessonsPercentage"></mat-progress-bar>
      </div>

      <div class="fia-progress-week">
        <p class="label">Woche {{dataService.schoolWeekValue}} von 40</p>
        <mat-progress-bar class="progress-bar" [value]="(dataService.schoolWeekValue / 40) * 100"></mat-progress-bar>
      </div>

      <app-post-link class="fia-next-lesson" *ngIf="dashboard !== undefined" [post]="dashboard.nextLesson" [title]="'Nächste Lektion'"
      ></app-post-link>

    </mat-card-content>
  </mat-card>

  <mat-card class="fia-card fia-schedule">
    <p class="fia-card-title">Stundenplan</p>
    <mat-card-content class="fia-view-wrapper">

      <app-schedule></app-schedule>

      <div class="fia-substitions-schedule">
        <span class="fia-substitution-label">Ausfälle / Vertretungen</span>
        <span class="fia-no-data" *ngIf="!scheduleSubstitutions">Keine Vertretungen</span>
      </div>

    </mat-card-content>
  </mat-card>

  <app-school-week-card *ngIf="schoolWeek !== undefined" [week]="schoolWeek" [is-dashboard-page]="true"></app-school-week-card>
</div>
