<fe-loading-spinner *ngIf="week === undefined"></fe-loading-spinner>
<mat-card class="fe-card school-week-card" *ngIf="week !== undefined">
  <div class="fe-card-header">
    <div class="fe-title-description-wrapper">
      <p class="fe-card-title">Schulwoche #{{ week.schoolWeek }}</p>
      <p class="fe-card-description">
        <span>
          {{ (week.posts[0].lessonDate | date: "dd.MM.yyyy") || "00.00.0000" }}
        </span>
        <span> - </span>
        <span>
          {{ (week.posts[week.posts.length - 1].lessonDate | date: "dd.MM.yyyy") || "00.00.0000" }}
        </span>
      </p>
    </div>
    <div class="button-wrapper" *ngIf="showNavigation">
      <fe-loading-spinner *ngIf="isLoading" size="24"></fe-loading-spinner>
      <button
        class="previous-week-btn"
        (click)="setWeek(-1)"
        [disabled]="week === undefined || week.schoolWeek == '1'"
        mat-icon-button
      >
        <mat-icon>keyboard_arrow_left</mat-icon>
      </button>
      <button
        class="next-week-btn"
        (click)="setWeek(1)"
        [disabled]="week === undefined || asNumber(week.schoolWeek) == dataService.currentSchoolWeek"
        mat-icon-button
      >
        <mat-icon>keyboard_arrow_right</mat-icon>
      </button>
    </div>
  </div>
  <mat-card-content class="fe-view-wrapper">
    <fe-loading-spinner *ngIf="week === undefined"></fe-loading-spinner>
    <div class="weekday-group" *ngIf="week !== undefined">
      <div class="weekday-item" *ngFor="let el of week | schoolDays">
        <div class="label-wrapper">
          <p class="weekday-label">{{ el.day | weekdayString }}</p>
          <hr class="weekday-spacer" />
        </div>
        <fe-post-link
          *ngFor="let post of el.lessons"
          [post]="post"
          [title]="post.subject | longSubjectName"
        ></fe-post-link>
      </div>
    </div>
    <p class="fe-no-data" *ngIf="week && week.posts.length === 0">Artikel noch nicht freigeschaltet</p>
  </mat-card-content>
</mat-card>
