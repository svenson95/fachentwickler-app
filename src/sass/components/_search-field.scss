$searchbar-height: 33px;

.search-bar-form-field {
  height: $searchbar-height;
  width: 200px;
  border-bottom: 1px solid rgba(var(--tertiary-color-rgb), .3);
  border-top-left-radius: var(--border-radius);
  border-top-right-radius: var(--border-radius);

  @include to-lg {
    width: 180px;
  }

  @include from-md {
    margin-left: 20px;
  }

  &.is-searching {
    border-bottom: 1px solid var(--secondary-color);
  }

  .mat-form-field-outline {
    opacity: 1;
    color: var(--grey-3);
  }

  .mat-form-field-wrapper {
    .mat-form-field-flex {
      background: transparent;
      padding: 0 1rem;
      height: $searchbar-height;
      align-items: center;
      border-top-left-radius: var(--border-radius);
      border-top-right-radius: var(--border-radius);
      transition: background-color 100ms ease-in-out;
    }

    .mat-form-field-flex:hover, &.mat-form-field-should-float {
      background-color: var(--button-hover-background);
      transition: none;
    }

    .mat-form-field-infix {
      padding: 0;
      border-top: 0;

      input {
        font-size: .9rem;
        vertical-align: middle;
        color: var(--text-color-1);

        &::placeholder {
          color: var(--text-color-3);
          opacity: 1; // firefox adds a lower opacity to the placeholder, reset to 1
        }
      }
    }

    .mat-form-field-suffix {
      text-align: end;

      .mat-icon {
        font-size: 1.3rem;
        line-height: 1.8rem;
        color: var(--tertiary-color);
        cursor: pointer;
      }
    }

    .mat-form-field-underline {
      display: none;
    }
  }
}
